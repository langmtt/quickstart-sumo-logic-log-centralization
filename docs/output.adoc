Sumo Logic Security Integrations on the AWS Cloud

Quick Start Reference Deployment

_October 2021_

_Sumo Logic_

_Shivansh Singh, AWS Quick Start team_

____
Visit our https://github.com/SumoLogic/quickstart-sumo-logic-cloudsiem/tree/main[+++GitHub repository+++] for source files and to post feedback, +
report bugs, or submit feature ideas for this Quick Start.
____

== Contents

link:#contents[Contents 1]

link:#overview[Overview 2]

____
link:#sumo-logic-on-aws[Sumo Logic on AWS 3]

link:#cost-and-licenses[Cost and licenses 3]
____

link:#architecture[Architecture 4]

link:#planning-the-deployment[Planning the deployment 5]

____
link:#specialized-knowledge[Specialized knowledge 5]

link:#_heading=h.26in1rg[Scenarios supported by this Quick Start 6]

link:#aws-account[AWS account 6]

link:#technical-requirements[Technical requirements 6]
____

link:#deployment-steps[Deployment steps 8]

____
link:#step-1.-prepare-your-sumo-logic-account[Step 1. Prepare your Sumo Logic account 8]

link:#step-2.-sign-in-to-your-aws-account[Step 2. Sign in to your AWS account 8]

link:#step-3.-launch-the-quick-start[Step 3. Launch the Quick Start 8]

link:#parameters-for-deploying-the-sumo-logic-quick-start[Parameters for deploying the Sumo Logic Quick Start 9]

link:#step-4.-test-the-deployment[Step 4. Test the deployment 16]

link:#aws-account-1[AWS account 16]

link:#sumo-logic-account[Sumo Logic account 16]

link:#step-5.-post-deployment-steps[Step 5. Post-deployment steps 17]

link:#using-existing-s3-bucket[Using existing S3 bucket 17]

link:#step-6.-view-the-sumo-logic-dashboards[Step 6. View the Sumo Logic dashboards 17]
____

link:#best-practices-for-using-sumo-logic-security-integrations[Best practices for using Sumo Logic Security Integrations 19]

link:#faq[FAQ 20]

link:#send-us-feedback[Send us feedback 20]

link:#additional-resources[Additional resources 20]

link:#document-revisions[Document revisions 21]

This Quick Start was created by Sumo Logic in collaboration with Amazon Web Services (AWS).

http://aws.amazon.com/quickstart/[+++Quick Starts+++] are automated reference deployments that use AWS CloudFormation templates to deploy key technologies on AWS, following AWS best practices.

== Overview

Sumo Logic is focused on continuous intelligence, a new category of software that addresses data challenges presented by digital transformations, modern applications, and cloud computing. The Sumo Logic Continuous Intelligence Platform automates the collection, ingestion, and analysis of applications, infrastructure, security, and Internet of Things (IoT) data to derive actionable insights.

Similar to security information and event management (SIEM) software, Sumo Logic uses apps to collet security events generated by AWS and other security services to provide an aggregate view of overall security and compliance posture. A Sumo Logic app is a collection of dashboards in the Sumo Logic console that provide analytics for known data streams. In minutes, users can start monitoring and troubleshooting security threats and indicators of compromise.

Please know that we may share who uses AWS Quick Starts with the AWS Partner Network (APN) Partner that collaborated with AWS on the content of the Quick Start.

=== Sumo Logic on AWS

Sumo Logic has apps for each AWS security service (for example, the Sumo Logic app for AWS CloudTrail) that it supports as well as apps that support multiple AWS services (for example, Threat Intel for AWS). This Quick Start deployment is for users who want to set up and configure the Sumo Logic console for 12 AWS services that provide security analytics.

Sumo Logic customers can track user activity, monitor threats, and understand how security posture compares with global benchmarks. This deployment uses virtual private cloud (VPC) flow logs and a web application firewall (AWS WAF) to monitor traffic patterns. Sumo Logic also uses apps to audit and maintain compliance of the Payment Card Industry (PCI) Data Security Standard (DSS) and Center for Internet Security (CIS).

The included template automatically creates resources that use various AWS services to collect logs, which are sent to your preregistered Sumo Logic account.

=== Cost and licenses

You are responsible for the cost of the AWS services used while running this Quick Start reference deployment. There is no additional cost for using the Quick Start.

The AWS CloudFormation template for this Quick Start includes configuration parameters that you can customize. Some of these settings, such as instance type, affect the cost of deployment. For cost estimates, see the pricing pages for each AWS service you use. Prices are subject to change.

____
*Tip:* After you deploy the Quick Start, we recommend that you enable the https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-gettingstarted-turnonreports.html[+++AWS Cost and Usage Report+++]. This report delivers billing metrics to an Amazon Simple Storage Service (Amazon S3) bucket in your account. It provides cost estimates based on usage throughout each month and finalizes the data at the end of the month. For more information about the report, see the https://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/billing-reports-costusage.html[+++AWS documentation+++].
____

For https://www.sumologic.com/pricing/[+++pricing information+++], visit the Sumo Logic website.

== Architecture

Deploying this Quick Start with *default parameters* builds the following environment in a specific account and Region in the AWS Cloud.

image:extracted-media/media/image7.png[image,width=648,height=399]

*Figure 1: Quick Start architecture for Sumo Logic on AWS*

This Quick Start sets up the following architecture:

* {blank}
+
____
Amazon GuardDuty to detect malicious activity and behavior to protect AWS accounts and workloads
____
* {blank}
+
____
AWS CloudTrail to track user activity and API usage
____
* {blank}
+
____
Multiple CloudFormation stacks and stacksets are deployed in your environment to setup forwarding of data to Sumo Logic. Each stack consists of more than one AWS resource, including AWS S3 buckets, AWS Lambda functions, and Amazon Kinesis Data Firehose delivery streams.
____
* {blank}
+
____
AWS Lambda functions to create a collector and multiple sources, and to install apps on your Sumo Logic account.
____
* {blank}
+
____
AWS S3 buckets capture logs from the various AWS services.
____
* {blank}
+
____
The Sumo Logic collector and sources to receive logs from the S3 buckets.
____
* {blank}
+
____
Amazon Kinesis Data Firehose delivery streams to transfer logs from AWS WAF to S3 buckets.
____
* {blank}
+
____
[#_heading=h.4d34og8 .anchor]####S3 Event Notification triggers an Amazon Simple Notification Service (Amazon SNS) topic when there is a new object in a bucket.
____

== Planning the deployment

=== Specialized knowledge

Before you deploy this Quick Start, we recommend that you become familiar with Sumo Logic as well as the following AWS services. If you are new to AWS, see https://aws.amazon.com/getting-started/[+++Getting Started with AWS+++]. If you are new to Sumo Logic, see https://help.sumologic.com/01Start-Here/04Getting-Started[+++Getting Started with Sumo Logic+++].

The following table shows how various AWS security services map to the corresponding apps in Sumo Logic. We recommend you get familiar with them.

[width="100%",cols="39%,61%",options="header",]
|===
|*AWS security service or feature* |*Sumo Logic apps for the following AWS services or features*
|https://aws.amazon.com/cloudtrail/[+++AWS CloudTrail+++] |https://help.sumologic.com/07Sumo-Logic-Apps/Cloud_Security_Monitoring_and_Analytics/Amazon_CloudTrail_-_Cloud_Security_Monitoring_and_Analytics[+++Amazon CloudTrail - Cloud Security Monitoring and Analytics+++], https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS/Global_Intelligence_for_AWS_CloudTrail_DevOps[+++Global Intelligence for AWS CloudTrail SecOps+++], https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS/Global_Intelligence_for_AWS_CloudTrail_DevOps[+++Global Intelligence for AWS CloudTrail DevOps+++], https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS/PCI_Compliance_for_AWS_CloudTrail_App[+++PCI Compliance for AWS CloudTrail App+++]
|https://aws.amazon.com/guardduty/[+++Amazon GuardDuty+++] |https://help.sumologic.com/07Sumo-Logic-Apps/Cloud_Security_Monitoring_and_Analytics/Amazon_GuardDuty_-_Cloud_Security_Monitoring_and_Analytics[+++Amazon GuardDuty - Cloud Security Monitoring and Analytics+++], https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS/Global_Intelligence_for_Amazon_GuardDuty[+++Global Intelligence for Amazon GuardDuty+++]
|===

=== Scenarios supported by this Quick Start

This Quick Start supports the following scenarios:

* *Scenario 1: You do not use AWS security services and Sumo Logic*. You did not configure AWS to use one or more of the security services listed under Specialized knowledge, but you want to do so and want to collect and analyze that data in Sumo Logic by using Sumo Logic apps. For this scenario, use the Quick Start to set up AWS security services and configure Sumo Logic.
* *Scenario 2: You use AWS security services but not Sumo Logic*. You use the AWS security services listed under Specialized knowledge but have not configured Sumo Logic to set up the collection of data from AWS and have not installed the relevant Sumo Logic apps in the Sumo Logic console. For this scenario, configure the auxiliary AWS services and resources to send data to Sumo Logic. This scenario also installs the corresponding Sumo Logic apps.
* *Scenario 3: You use AWS security services and Sumo Logic*. You use the AWS security services listed under link:#specialized-knowledge[+++Specialized knowledge+++] and you collect and analyze data from one or more of them in Sumo Logic. For this scenario, configure the auxiliary AWS services and resources to send data to Sumo Logic. This scenario is intended only for non-configured AWS security services and their corresponding Sumo Logic apps.

=== AWS account

If you don’t already have an AWS account, create one at https://aws.amazon.com/[+++https://aws.amazon.com+++] by following the on-screen instructions. Part of the sign-up process involves receiving a phone call and entering a PIN using the phone keypad.

Your AWS account is automatically signed up for all AWS services. You are charged only for the services you use.

=== Technical requirements

The following are technical requirements for this Quick Start.

* A Sumo Logic account. If you don’t already have a Sumo Logic enterprise account, create one at https://www.sumologic.com/[+++https://www.sumologic.com/+++] by following following the on-screen instructions.
* An AWS account. If you don’t already have an AWS account, create one at https://aws.amazon.com/[+++https://aws.amazon.com+++] by following the on-screen instructions.
* The ability to launch AWS CloudFormation templates that create AWS Identity and Access Management (IAM) roles.
* An understanding of how Sumo Logic resources are created.

* {blank}
+
____
For data collection, scenario 1, a https://help.sumologic.com/03Send-Data/Hosted-Collectors[+++new Sumo Logic hosted collector+++] called aws-quickstart-collector is created and sources for each app are installed under it.
____
* {blank}
+
____
For data collection, scenarios 2 and 3, all existing sources can be reused. All new sources are installed under a new Sumo Logic–hosted collector called aws-quickstart-collector.
____
* {blank}
+
____
All Sumo Logic apps are installed in a personal folder called SumoLogic Amazon QuickStart Apps, followed by the date.
____

____
*Note:* The Threat Intel app can report Elastic Load Balancing (ELB) data if you are already sending that data to Sumo Logic.
____

If you already configured AWS security services to send logs to S3 buckets or SNS topics, collect the following information before you launch the Quick Start.

____
*Note:* If you did not previously configure these services, this Quick Start automatically configures the AWS services and resources for you when you choose to install the Sumo Logic apps.
____

[width="100%",cols="35%,36%,29%",options="header",]
|===
|*Sumo Logic apps* |*If you have done the following:* |*Make a note of:*
|AWS CloudTrail, Amazon CloudTrail - Cloud Security Monitoring and Analytics, Global Intelligence for AWS CloudTrail SecOps, Global Intelligence for AWS CloudTrail DevOps, PCI Compliance for AWS CloudTrail App |Configured AWS CloudTrail to send its logs to an S3 bucket. |The S3 bucket name.
|===

== Deployment steps

This Quick Start deployment builds a new AWS environment consisting of the infrastructure resources required to provision applications to your Sumo Logic account and necessary resources to your AWS account. During the deployment, you can choose which applications y to install.

=== Step 1. Prepare your Sumo Logic account

[arabic]
. If you don’t already have a Sumo Logic enterprise account, create one at +++https://sumologic.com+++ by following the on-screen instructions.
. Create the https://help.sumologic.com/Manage/Security/Access-Keys#manage-your-access-keys-on-preferences-page[+++Access Key and Access ID+++] from your Sumo Logic account. You need them to pass as parameters when you launch the Quick Start template in the next step.
. You also need to pass the Organization ID, which you can get from your Sumo Logic account in the *Administration* section under the *Account* tab.

____
*Note:* If you want to use the Threat Intel app but have not configured data collection, see https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS/Threat_Intel_for_AWS[+++Threat Intel for AWS+++]. If you already configured data collection, note the relevant Sumo Logic source category for your data.
____

=== Step 2. Sign in to your AWS account

Sign in to your AWS account at https://aws.amazon.com[+++https://aws.amazon.com+++] with an IAM user role that has the necessary permissions. For details, see link:#_heading=h.4d34og8[+++Planning the deployment+++] earlier in this guide.

=== Step 3. Launch the Quick Start

[arabic]
. Deploy Sumo Logic Security Integrations. Each deployment takes about 10 minutes to complete.

[width="100%",cols="100%",]
|===
|https://fwd.aws/Nm69g[+++Deploy Sumo Logic Security Integrations+++]
|===

[arabic, start=2]
. Check the Region displayed in the upper-right corner of the navigation bar, and change as necessary. This is where the infrastructure for Sumo Logic Application resources will be built.
. On the *Create stack* page, keep the default setting for the template URL, then choose *Next*.
. On the *Specify stack details* page, change the stack name if needed. Review the parameters for the template. Provide values for the parameters that require input. For all other parameters, review the default settings and customize them as necessary.

When you finish reviewing and customizing the parameters, choose *Next*.

==== Parameters for deploying the Sumo Logic Quick Start

https://fwd.aws/MG4nr[+++View template+++]

____
_Sumo Logic access configuration:_
____

[width="100%",cols="38%,19%,43%",options="header",]
|===
|*Parameter label +
(name)* |*Default* |*Description*
|*Sumo Logic deployment name* +
(Section1SumoLogicDeployment) |_Requires Input_ |Enter the geographic location of the deployment: *au*, *ca*, *de*, *eu*, *jp*, *us2*, *us1*, *in*, or *fedE*.
|*Sumo Logic access ID* +
(Section1SumoLogicAccessID) |_Requires Input_ |Enter the Sumo Logic console access ID, which you received when you created the Access Key in link:#step-1.-prepare-your-sumo-logic-account[+++Step 1+++].
|*Sumo Logic access key* +
(Section1SumoLogicAccessKey) |_Requires Input_ |Enter your Sumo Logic access key. Obtain this from your Sumo Logic account (choose *Administration* > *Security* > *Access Keys*).
|*Delete Sumo Logic resources* +
(Section1SumoLogicResourceRemoveOnDeleteStack) |true |If this parameter is set to *true*, the collector, sources, and Sumo Logic apps will be deleted. If this parameter is set to *false*, the collector, sources, and Sumo Logic apps will not be deleted.
|*Sumo Logic organization ID* (Section1SumoLogicOrganizationId) |_Requires Input_ |Enter your Sumo Logic organization ID, which you can find on your Sumo Logic console under *Account*.
|===

____
_AWS Access configuration_
____

[width="100%",cols="38%,19%,43%",options="header",]
|===
|*Parameter label +
(name)* |*Default* |*Description*
|*Security tooling account ID* +
(Section1SecurityToolingAccountId) |_Requires Input_ |Enter your security tooling account ID. Must be 12 digits
|*Log archiving account ID* +
(Section1LogArchivingAccountId) |_Requires Input_ |Enter your log archiving account ID. Must be 12 digits
|*Security tooling and Log Archiving account Region* +
(Section1ToolingAndLoggingRegion) |us-east-1 |Enter your security tooling and log archiving account region: *us-east-1, us-east-2, us-west-1, us-west-2, af-south-1, ap-east-1, ap-south-1, ap-northeast-3, ap-northeast-2, ap-southeast-1, ap-southeast-2, ap-northeast-1, ca-central-1, eu-central-1, eu-west-1, eu-west-2, eu-south-1, eu-west-3, eu-north-1, me-south-1, sa-east-1*
|*AWS Organization Root OU ID* +
(Section1OrganizationRootID) |_Requires Input_ |Enter your AWS Organization Root OU ID, which you find on you AWS Console in *AWS Organizations*. The Root OU ID string requires r- followed by from 4 to 32 lowercase letters or digits
|===

____
_AWS GuardDuty App configuration:_
____

[width="100%",cols="38%,18%,44%",options="header",]
|===
|*Parameter label +
(name)* |*Default* |*Description*
a|
*Install Sumo Logic Global Intelligence for Amazon GuardDuty*

(Section2InstallSumoGlobalGuardDutyApp)

|Yes a|
*Yes* -> To Install Global Intelligence for Amazon GuardDuty in Sumo Logic for AWS Quick Start Solution.

*No* -> Skip Installation of the app.

a|
*Install Sumo Logic Cloud Security Monitoring and Analytics for Amazon GuardDuty*

(Section2InstallSumoCloudSecurityMonitoringandAnalyticsGuardDutyApp)

|Yes a|
*Yes* ->To Install Cloud Security Monitoring and Analytics for Amazon GuardDuty in Sumo Logic for AWS Quick Start Solution.

*No* -> Skip Installation of the app

a|
*Finding Publishing Frequency*

(Section2FindingPublishingFrequency)

|FIFTEEN_MINUTES |Finding publishing frequency.
a|
*GuardDuty Regions*

(Section2GuardDutyRegions)

|us-east-1,us-east-2 |Comma delimited list of regions to enable GuardDuty. Leave blank to enable all regions.
a|
*Create Sumo Logic HTTP logs source*

(Section2GuardDutyCreateHttpLogsSource)

|Yes a|
*Yes*: Create Sumo Logic HTTP log source to collect GuardDuty logs.

*No*: Skip creation of the Sumo Logic HTTP log source.

a|
*Sumo Logic HTTP logs source category name*

(Section2GuardDutyHttpLogsSourceCategoryName)

|aws/quickstart/guardduty/logs |Required when Guardduty HTTP LogSource is set to No. Provide an existing source category name from the GuardDuty logs. This is used for app installation.
|===

____
_AWS CloudTrail configuration:_
____

[width="100%",cols="38%,19%,43%",options="header",]
|===
|*Parameter label +
(name)* |*Default* |*Description*
|*CloudTrail Region of Management Account* +
(Section3CloudTrailRegions) |us-east-1 |Enter management account region for CloudTrail
|*Install CloudTrail Service in AWS* +
(Section3InstallAWSCloudTrail) |No a|
*Yes*: Install CloudTrail Service on AWS.

*No*: Skip installation.

|*Install Sumo Logic AWS CloudTrail app* +
(Section3InstallCloudTrailApp) |Yes a|
*Yes*: Install Sumo Logic AWS CloudTrail app.

*No*: Skip installation of app.

|*Install Sumo Logic PCI compliance for AWS CloudTrail app* +
(Section3InstallPCICloudTrailApp) |Yes a|
*Yes*: Install PCI compliance For AWS CloudTrail app.

*No*: Skip installation of app.

|*Install Sumo Logic CIS AWS Foundations Benchmark app* +
(Section3InstallCISFoundationApp) |Yes a|
*Yes*: Install CIS AWS Foundations Benchmark app.

*No*: Skip installation of app.

|*Install Amazon CloudTrail - Sumo Cloud Security Monitoring and Analytics App* +
(Section3InstallCloudTrailMonitoringAnalyticsApp) |Yes a|
*Yes*: Install Amazon CloudTrail - Sumo Cloud Security Monitoring and Analytics App.

*No*: Skip installation of app.

|*Install Sumo Global Intelligence for AWS CloudTrail SecOps App* +
(Section3InstallCloudTrailSecOpsApp) |Yes a|
*Yes*: Install Sumo Global Intelligence for AWS CloudTrail SecOps App.

*No*: Skip installation of app.

|*Create Sumo Logic S3 logs source for CloudTrail* +
(Section3CloudTrailCreateS3LogsSource) |Yes a|
*Yes*: Create Sumo Logic S3 log source to collect CloudTrail logs.

*No*: Skip creation of the Sumo Logic S3 log source.

|*Path expression for logs* +
(Section3CloudTrailBucketPathExpression) |CloudTrail/AWSLogs/*/CloudTrail/* |Path expression to match the folder structure for CloudTrail logs (e.g., AWSLogs/*/CloudTrail/*).
|*Sumo Logic CloudTrail logs source category name* +
(Section3CloudTrailLogsSourceCategoryName) |AWS/Cloudtrail/Logs |Required when flag is set to No. Provide an existing source category name from Sumo Logic collecting CloudTrail logs. This is used for Threat Intel for AWS app installation also.
|*Create S3 Bucket for CloudTrail Logs* +
(Section3CreateCloudTrailS3Bucket) |No a|
*Yes*: Create AWS S3 Bucket for CloudTrail logs.

*No*: Skip creation of the S3 Bucket.

|*Name of exists S3 Bucket which contains the CloudTrail Logs* +
(Section3CloudTrailExistsS3BucketName) | |Required when flag is set to No. Provide an existing S3 Bucket name which contains CloudTrail Logs. Exists bucket must at same region and same account with log archiving account above
|===

____
_AWS Quick Start configuration:_

*Note:* We recommend that you keep the default settings for the following three parameters, unless you are customizing the Quick Start templates for your own deployment projects. Changing the settings of these parameters automatically updates code references to point to a new Quick Start location. For additional details, see the https://aws-quickstart.github.io/option1.html[+++AWS Quick Start Contributor’s Guide+++].
____

[width="100%",cols="26%,19%,55%",options="header",]
|===
|Parameter label (name) |Default |Description
|Quick Start S3 bucket name +
(QSS3BucketName) |aws-quickstart |The S3 bucket you created for your copy of Quick Start assets, if you decide to customize or extend the Quick Start for your own use. The bucket name can include numbers, lowercase letters, uppercase letters, and hyphens, but should not start or end with a hyphen.
|Quick Start S3 key prefix +
(QSS3KeyPrefix) |quickstart-sumo-logic-log-centralization/ |The https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html[+++S3 key name prefix+++] used to simulate a folder for your copy of Quick Start assets, if you decide to customize or extend the Quick Start for your own use. This prefix can include numbers, lowercase letters, uppercase letters, hyphens, and forward slashes.
|Quick Start S3 bucket Region +
(QSS3BucketRegion) |us-east-1 |The AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted. When using your own bucket, you must specify this value.
|Quick Start Version +
(QSVersion) |1.0 |Version of Quick Start
|===

[arabic, start=5]
. On the options page, you can https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-resource-tags.html[+++specify tags+++] (key-value pairs) for resources in your stack and https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cfn-console-add-tags.html[+++set advanced options+++]. When you’re done, choose *Next*.
. On the *Review* page, review and confirm the template settings. Under *Capabilities*, select the two check boxes to acknowledge that the template creates IAM resources and might require the capability to auto-expand macros.
. Choose *Create stack* to deploy the stack.
. Monitor the status of the stack. When the status is *CREATE_COMPLETE*, the Sumo Logic app stack is ready.

=== Step 4. Test the deployment

==== AWS account

After the deployment completes, you will see the main stack, QuickStartApps, as well as multiple nested stacks and stacksets.

image:extracted-media/media/image2.png[image,width=648,height=230]

*Figure 2: Example stacks output of created resources*

image:extracted-media/media/image3.png[image,width=648,height=318]

*Figure 3: Example stacksets output of created resources*

==== Sumo Logic account

Confirm that the AWS CloudFormation template installed the collectors and sources for the selected Sumo Logic apps.

image:extracted-media/media/image4.png[image,width=648,height=124]

*Figure 4: Example output of collectors and sources*

=== Step 5. Post-deployment steps

==== Using existing S3 bucket

If you use an existing S3 bucket with logs, create an SNS topic (SumoSNSTopic-\{StackName}) that subscribes to the Sumo Logic sources. Once the deployment completes, add that SNS topic to the S3 bucket events. For more information, see https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html[+++How do I enable and configure event notifications for an S3 Bucket?+++]

*AWS WAF logs for Amazon Kinesis Data Firehose delivery stream*

If you install AWS WAF, CloudFormation creates a Kinesis delivery stream (QuickStartDeliveryStream\{Region}) in your Kinesis configuration. You must configure Web ACL in your WAF configuration to send logs to the delivery stream. For more information, see https://docs.aws.amazon.com/waf/latest/developerguide/logging.html[+++Logging Web ACL traffic information+++].

=== Step 6. View the Sumo Logic dashboards

After the deployment completes, the Sumo Logic apps are added to your Sumo Logic personal-account library in a folder named SumoLogic Amazon QuickStart Apps <date>.

image:extracted-media/media/image5.png[image,width=648,height=113]

*Figure 5: Top-level Quick Start apps folder*

Under the SumoLogic Amazon QuickStart Apps <date> folder, there are sub-folders that represent each app, along with the date and timestamp.

image:extracted-media/media/image1.png[image,width=648,height=234]

*Figure 6: Individual service folders*

To open the services dashboard, choose its folder in the Sumo Logic console. For instance, under the *Amazon GuardDuty* folder, open the *Amazon GuardDuty – Overview* dashboard to see detected threats.

image:extracted-media/media/image8.png[image,width=648,height=384]

*Figure 7: Amazon GuardDuty dashboard*

== Best practices for using Sumo Logic Security Integrations

At the end of the deployment, if you want to use this Quick Start across multiple AWS accounts and Regions, rename the top-level parent folder of your Sumo Logic account (under your personal folder) to reflect the correct account and Region.

For each S3 bucket, follow the https://aws.amazon.com/premiumsupport/knowledge-center/secure-s3-resources/[+++AWS documentation+++] best practices to secure all of your S3 objects. Sumo Logic Security Integrations can monitor the following security and compliance aspects of your AWS environment:

* Threat monitoring and other security findings
* Configuration and audit
* PCI DSS compliance
* CIS AWS compliance

== FAQ

*Q.* I encountered a *CREATE_FAILED* error when I launched the Quick Start.

*A.* If AWS CloudFormation fails to create the stack, we recommend that you relaunch the template with *Rollback on failure* set to *Disabled*. (This setting is under *Advanced* in the AWS CloudFormation console, *Options* page.) With this setting, the stack’s state is retained and the instance is left running, so you can troubleshoot the issue. (For Windows, look at the log files in %ProgramFiles%\Amazon\EC2ConfigService and C:\cfn\log.)

____
*Important:* When you set *Rollback on failure* to *Disabled*, you continue to incur AWS charges for the stack. Please ensure to delete the stack when you finish troubleshooting.
____

For additional information, see https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/troubleshooting.html[+++Troubleshooting AWS CloudFormation+++] on the AWS website.

*Q.* I encountered a size limitation error when I deployed the AWS CloudFormation templates.

*A.* We recommend that you launch the Quick Start templates from the links in this guide or from another S3 bucket. If you deploy the templates from a local copy on your computer or from a non-S3 location, you might encounter template size limitations. For more information about AWS CloudFormation quotas, see the http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/cloudformation-limits.html[+++AWS documentation+++].

== Send us feedback

To post feedback, submit feature ideas, or report bugs, use the *Issues* section of the https://fwd.aws/KEvGk[+++GitHub repository+++] for this Quick Start. If you’d like to submit code, please review the https://aws-quickstart.github.io/[+++Quick Start Contributor’s Guide+++].

== Additional resources

*AWS resources*

* https://aws.amazon.com/getting-started/[+++Getting Started Resource Center+++]
* https://docs.aws.amazon.com/general/latest/gr/[+++AWS General Reference+++]
* https://docs.aws.amazon.com/general/latest/gr/glos-chap.html[+++AWS Glossary+++]

*AWS services used by the deployment*

* https://docs.aws.amazon.com/cloudformation/[+++AWS CloudFormation+++]
* +++AWS https://aws.amazon.com/cloudwatch/[CloudWatch]+++
* https://docs.aws.amazon.com/iam/[+++AWS IAM+++]
* https://aws.amazon.com/sns/[+++Amazon SNS+++]
* https://aws.amazon.com/lambda/[+++AWS Lambda+++]
* https://aws.amazon.com/kinesis/data-firehose/[+++Amazon Kinesis Data Firehose+++]
* https://aws.amazon.com/s3/[+++Amazon S3+++]

*Sumo Logic documentation*

* https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS[+++Sumo Logic Amazon and AWS apps+++]
* https://help.sumologic.com/07Sumo-Logic-Apps/01Amazon_and_AWS[+++Sumo Logic Doc Hub+++]
* https://www.sumologic.com/solutions/security-intelligence/[+++Sumo Logic Cloud SIEM+++]

*Other Quick Start reference deployments*

* https://aws.amazon.com/quickstart/[+++AWS Quick Start home page+++]

== Document revisions

[width="100%",cols="26%,44%,30%",options="header",]
|===
|*Date* |*Change* |*In sections*
|*October 2021* |Initial publication |—
|===

© 2020, Amazon Web Services, Inc. or its affiliates, and Sumo Logic. All rights reserved.

*+++Notices+++*

This document is provided for informational purposes only. It represents AWS’s current product offerings and practices as of the date of issue of this document, which are subject to change without notice. Customers are responsible for making their own independent assessment of the information in this document and any use of AWS’s products or services, each of which is provided “as is” without warranty of any kind, whether express or implied. This document does not create any warranties, representations, contractual commitments, conditions or assurances from AWS, its affiliates, suppliers or licensors. The responsibilities and liabilities of AWS to its customers are controlled by AWS agreements, and this document is not part of, nor does it modify, any agreement between AWS and its customers.

The software included with this paper is licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at http://aws.amazon.com/apache2.0/[+++http://aws.amazon.com/apache2.0/+++] or in the "license" file accompanying this file. This code is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
